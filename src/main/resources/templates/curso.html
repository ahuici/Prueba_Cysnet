<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CiberCursos</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="icon" type="image/png" th:href="@{/images/iconoPagina.png}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="d-flex flex-column min-vh-100">
    <div th:insert="fragments/header :: header"></div>

    <div class="container my-4">
        <div class="row justify-content-center g-4">

            <div class="col-12" th:if="${#lists.isEmpty(cursos)}">
                <p class="text-muted text-center mb-0">No hay cursos disponibles.</p>
            </div>

            <div class="col-12 col-md-6 col-lg-4 d-flex" th:each="curso : ${cursos}">
                <div class="card curso-card shadow-sm animacion flex-fill d-flex flex-column text-center h-100">
                    <div class="card-body d-flex flex-column flex-fill">
                        <h5 class="card-title mb-2" th:text="${curso.titulo}">Título del curso</h5>

                        <p class="card-text flex-grow-1 mt-2 mb-3" th:text="${curso.descripcion}">Descripción del curso...</p>

                        <div class="mt-auto">
                            <div class="mb-2">
                                <span class="fw-bold fs-5" th:text="${curso.precio} + ' €'">0 €</span>
                            </div>

                            <button class="btn btn-primary w-100" type="button" disabled>Inscribirse</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>


    <div th:insert="fragments/footer :: footer" class="mt-auto"></div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const sections = document.querySelectorAll(".animacion");

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add("visible");
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.2 });

            sections.forEach(section => observer.observe(section));
        });
    </script>
</body>
</html>